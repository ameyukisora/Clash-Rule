---
port: 8888
socks-port: 8889
mixed-port: 8899
allow-lan: true
mode: Rule
log-level: info
external-controller: '127.0.0.1:6170'
experimental:
  ignore-resolve-fail: true
dns:
  enable: true
  ipv6: false
  listen: '0.0.0.0:5450'
  enhanced-mode: fake-ip
  fake-ip-filter:
    - '*.lan'
    - '*.edu.cn'
    - localhost.ptlogin2.qq.com
    - '*.*.*.srv.nintendo.net'
    - '*.*.stun.playstation.net'
    - xbox.*.*.microsoft.com
    - '*.*.xboxlive.com'
    - '*.msftncsi.com'
    - 'www.msftconnecttest.com'
  nameserver:
    - 223.6.6.6
    - 223.5.5.5
proxy-providers:
  JP:
    type: http
    path: ./Providers/proxy/proxy-jp.yaml
    url: #
    interval: 21600
    health-check:
      enable: true
      url: http://cp.cloudflare.com/generate_204
      interval: 3600
  HK:
    type: http
    path: ./Providers/proxy/proxy-hk.yaml
    url: #
    interval: 21600
    health-check:
      enable: true
      url: http://cp.cloudflare.com/generate_204
      interval: 3600
  NeteaseMusic:
    type: http
    path: ./Providers/proxy/netease_music.yaml
    url: #
    interval: 21600
    health-check:
      enable: true
      url: http://cp.cloudflare.com/generate_204
      interval: 3600
proxy-groups:
  - name: üî∞ Proxy
    type: select
    use:
      - JP
      - HK
  - name: üå∏ JP-game
    type: select
    use:
      - JP
  - name: üñºÔ∏è EH
    type: select
    use:
      - HK
  - name: üì∫ BiliBili
    type: select
    use:
      - HK
    proxies:
      - DIRECT
  - name: üéµ Netease Music
    type: select
    use:
      - NeteaseMusic
    proxies:
      - DIRECT
  - name: üïπÔ∏è Steam
    type: select
    use:
      - HK
    proxies:
      - DIRECT
  - name: üè† Domestic
    type: select
    proxies:
      - DIRECT
      - üî∞ Proxy
  - name: ‚õî AdBlock
    type: select
    proxies:
      - REJECT
      - DIRECT
      - üî∞ Proxy
  - name: üêü Other
    type: select
    proxies:
      - üî∞ Proxy
      - DIRECT
rules:
- RULE-SET,Reject,‚õî AdBlock
- RULE-SET,Special,DIRECT
- RULE-SET,ExHentai,üñºÔ∏è EH
- RULE-SET,JPlist,üå∏ JP-game
- RULE-SET,BiliBili,üì∫ BiliBili
- RULE-SET,Steam,üïπÔ∏è Steam
- RULE-SET,Netease Music,üéµ Netease Music
- RULE-SET,Proxy,üî∞ Proxy
#- RULE-SET,ChinaDomain,üè† Domestic
- RULE-SET,ChinaIp,üè† Domestic
#- GEOIP,CN,üè† Domestic
- MATCH,üêü Other
rule-providers:
  Reject:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/lhie1/Rules/Clash/Provider/Reject.yaml
    #original addressÔºöhttps://raw.githubusercontent.com/lhie1/Rules/master/Clash/Provider/Reject.yaml
    path: ./Providers/rule/Reject.yaml
    interval: 86400
  Special:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/lhie1/Rules@master/Clash/Provider/Special.yaml
    #https://raw.githubusercontent.com/lhie1/Rules/master/Clash/Provider/Special.yaml
    path: ./Providers/rule/Special.yaml
    interval: 86400
  ExHentai:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/ameyukisora/Clash-Rule@master/provider/exhentai.yaml
    #https://raw.githubusercontent.com/ameyukisora/Clash-Rule/master/provider/exhentai.yaml
    path: ./Providers/rule/ExHentai.yaml
    interval: 86400
  JPlist:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/ameyukisora/Clash-Rule@master/provider/jplist.yaml
    #https://raw.githubusercontent.com/ameyukisora/Clash-Rule/master/provider/jplist.yaml
    path: ./Providers/rule/JPlist.yaml
    interval: 86400
  BiliBili:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/BiliBili/BiliBili.yaml
    #https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml
    path: ./Providers/rule/BiliBili.yaml
    interval: 86400
  Steam:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Steam/Steam.yaml
    #https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Steam/Steam.yaml
    path: ./Providers/rule/Steam.yaml
    interval: 86400
  Netease Music:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/lhie1/Rules@master/Clash/Provider/Media/Netease%20Music.yaml
    #https://raw.githubusercontent.com/lhie1/Rules/master/Clash/Provider/Media/Netease%20Music.yaml
    path: ./Providers/rule/Netease_Music.yaml
    interval: 86400
  Proxy:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Proxy/Proxy.yaml
    #https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Proxy/Proxy.yaml
    path: ./Providers/rule/Proxy.yaml
    interval: 86400
#  ChinaDomain:
#    type: http
#    behavior: classical
#    url: https://api.dler.io/getruleset?type=6&url=Y2xhc2gtY2xhc3NpYzpodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQUNMNFNTUi9BQ0w0U1NSL21hc3Rlci9DbGFzaC9Qcm92aWRlcnMvQ2hpbmFEb21haW4ueWFtbA==
#    #url=base64 encodeÔºåmust with types.
#    #Format: type:URL
#    #where "type" supports the following value: surge, quanx, clash-domain, clash-ipcidr, clash-classic
#    #type defaults to surge if omitted
#    #original addressÔºöclash-classic:https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaDomain.yaml
#    path: ./Providers/rule/ChinaDomain.yaml
#    interval: 86400
  ChinaIp:
    type: http
    behavior: ipcidr
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script/rule/Clash/ChinaIPs/ChinaIPs_IP.yaml
    #https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaIPs/ChinaIPs_IP.yaml
    path: ./Providers/rule/ChinaIp.yaml
    interval: 86400
...
