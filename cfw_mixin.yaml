mixin:
  find-process-mode: always
  #tcp-concurrent: true
  tun:
    enable: true
    device: Mihomo
    stack: system   #system / gvisor / mixed
    dns-hijack:
      - any:53
    auto-route: true
    mtu: 1500
    #strict-route: true # 启用会导致机械革命控制台失效
    auto-detect-interface: true
  dns:
    cache-algorithm: arc
    enable: true
    enhanced-mode: fake-ip
    respect-rules: true
    #fake-ip-filter-mode: whitelist
    fake-ip-filter:
    #  - rule-set:gfw # whitelist时启用
      - '*.example'
      - '*.home.arpa'
      - '*.invalid'
      - '*.lan'
      - '*.local'
      - '*.localdomain'
      - '*.localhost'
      - '*.test'
      # === Google ===
      - 'lens.l.google.com'
      - 'stun.l.google.com'
      ## Golang
      - 'proxy.golang.org'
      # === Windows 10 Connnect Detection ===
      - '*.ipv6.microsoft.com'
      - '*.msftconnecttest.com'
      - '*.msftncsi.com'
      - 'msftconnecttest.com'
      - 'msftncsi.com'
      # === NTP Service ===
      - 'ntp.*.com'
      - 'ntp1.*.com'
      - 'ntp2.*.com'
      - 'ntp3.*.com'
      - 'ntp4.*.com'
      - 'ntp5.*.com'
      - 'ntp6.*.com'
      - 'ntp7.*.com'
      - 'time.*.apple.com'
      - 'time.*.com'
      - 'time.*.gov'
      - 'time1.*.com'
      - 'time2.*.com'
      - 'time3.*.com'
      - 'time4.*.com'
      - 'time5.*.com'
      - 'time6.*.com'
      - 'time7.*.com'
      - 'time.*.edu.cn'
      - '*.time.edu.cn'
      - '*.ntp.org.cn'
      - '+.pool.ntp.org'
      - 'time1.cloud.tencent.com'
      # === Game Service ===
      ## Microsoft Xbox
      - 'speedtest.cros.wr.pvp.net'
      - '*.*.xboxlive.com'
      - 'xbox.*.*.microsoft.com'
      - 'xbox.*.microsoft.com'
      - 'xnotify.xboxlive.com'
      ## STUN Server
      - '+.stun.*.*.*.*'
      - '+.stun.*.*.*'
      - '+.stun.*.*'
      - 'stun.*.*.*'
      - 'stun.*.*'
      # === Other ===
      ## QQ Quick Login
      - 'localhost.ptlogin2.qq.com'
      - 'localhost.sec.qq.com'
    proxy-server-nameserver: [https://223.6.6.6/dns-query, https://120.53.53.53/dns-query]
    nameserver: [system]
    fallback: [https://223.6.6.6/dns-query, https://120.53.53.53/dns-query]
    fallback-filter:
      geoip: false
      ipcidr: 
        - 0.0.0.0/32
        - 100.64.0.0/10
        - 127.0.0.0/8
        - 240.0.0.0/4
        - 255.255.255.255/32
